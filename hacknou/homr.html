<!DOCTYPE html>
<link rel="stylesheet" href="home.css">
<html>

<head>
    <meta charset="UTF-8">
    <title>My Angular App</title>
</head>

<body>
    <div class="container">
        <div class="background-image-container">
            <button id="points_button" onclick="window.location.href='./leaderboard.html';">5p</button>
            <!-- Content goes here -->

            <aside class="challenges">
                <h2>Daily Challenges'</h2>
                <ul id="challenge-list">
                    <!-- Populate with dynamic content if available -->
                    <button data-index='1' id="ceva" onclick="openModal2(this)" class="resource-1-link">
                        <li><a href="#" class="resource-1">Plant a tree</a>
                            <p class="challenge-description">Contribute to reforestation and help improve air quality.
                            </p>
                            <img src="./medddddalie.jpg" alt="Reward" class="reward">
                            <p id="aici_puncte">5 points X 1</p>
                        </li>
                    </button>
        </div>
        <button id="myBtn" onclick="openModal()">Find my coordonates</button>

        <!-- More resources -->
        </ul>
        </aside>

        <!-- Clickable username that triggers the sidebar -->
        <div id="username" class="sidebar-toggle" onclick="toggleSidebar()"></div>

        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <span id="username2" class="username" onclick="closeSidebar()">tst</span>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#"><i class="fas fa-user-circle"></i>Your profile</a></li>
                    <li><a href="#"><i class="fas fa-code-branch"></i>Vouchers earned</a></li>
                    <li><a href="#"><i class="fas fa-users"></i>Partner Companies</a></li>
                    <li><a href="#"><i class="fas fa-book"></i>Educational resources</a></li>
                    <!-- Add other sidebar items here -->
                </ul>
            </nav>
        </aside>
        <script src="./home.js"></script>
    </div>



    <div id="myModal" class="modal">
        <div class="modal-content5">

            <head>
                <title>Click to Get Location with Google Maps</title>
                <style>
                    /* Style the map */
                    #map {
                        height: 400px;
                        width: 100%;
                    }
                </style>
                <script
                    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCZkdFQWekX-zhWncrJ3tar8Hwi9RBodcU&callback=initMap"
                    async defer></script>
                <script>
                    let map;

                    function initMap() {
                        map = new google.maps.Map(document.getElementById('map'), {
                            center: { lat: 45.04, lng: 25.10 },
                            zoom: 6
                        });

                        // This event listener will call the function when the map is clicked.
                        map.addListener('click', function (e) {
                            placeMarkerAndPanTo(e.latLng, map);
                        });
                    }

                    function placeMarkerAndPanTo(latLng, map) {
                        new google.maps.Marker({
                            position: latLng,
                            map: map
                        });
                        map.panTo(latLng);

                        // Log the location to the console or display it on the page
                        console.log(`latitude: ${latLng.lat()}, Longitude: ${latLng.lng()}`);
                        addListElements(latLng.lat(), latLng.lng());
                        closeModal();

                    }
                </script>
            </head>

            <body>
                <div id="map"></div>
            </body>
        </div>
    </div>

    <div id="mysecondModal" class="modal2">
        <div class="modal-content">

            <head>
                <title>Do you have a team?</title>
                <style>
                    /* Style the map */
                </style>
                <script>

                </script>
                <body>
                    <div class="container-modala">

                        <h1>Do you have a team?</h1>
                        <button id="yes" onclick="openModal3()">Yes</button>
                        <button id="no">No</button>
                    </div>
                </body>
            </head>
        </div>
    </div>





    <div id="mythirdModal" class="modal3">
        <div class="modal-content2">

            <head>
                <title>Do you have a team?</title>
                <style>
                    /* Style the map */
                </style>
                <script>

                </script>
                <body>
                    <div class="container-modala2">
                        <form id="uploadForm" enctype="multipart/form-data">
                            <input type="file" id="imageInput" name="image" accept="image/*">
                            <button type="submit" onclick="addPointsToUser(),closeModal2()">Upload Image</button>
                        </form>
            
                    </div>
                </body>
            </head>
        </div>
    </div>




    </div>

</body>



<script>

    window.onload = function() 
    {addUser(), getUserPoints()};

    // addListElement(); // Calling the function when the page loads
</script>


</html>